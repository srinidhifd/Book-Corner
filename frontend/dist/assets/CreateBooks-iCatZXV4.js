import{r as a,u as g,a as x,j as e,S as f}from"./index-DJRrCVeB.js";import{B as p}from"./BackButton-w1buQQn4.js";import{a as y}from"./index-7PIVO1JM.js";const k=()=>{const[s,u]=a.useState(""),[l,c]=a.useState(""),[r,d]=a.useState(""),[i,o]=a.useState(!1),m=g(),{enqueueSnackbar:n}=x(),b=()=>{if(!s||!l||!r){n("Please fill in all fields",{variant:"warning"});return}const t={title:s,author:l,publishYear:r};o(!0),y.post("http://localhost:5555/books",t).then(()=>{o(!1),n("Book Created successfully",{variant:"success"}),m("/")}).catch(h=>{o(!1),n("An error occurred. Please try again.",{variant:"error"}),console.log(h)})};return e.jsxs("div",{className:"relative flex flex-col items-center p-6 bg-gray-100 min-h-screen",children:[e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx(p,{})}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-700 bg-opacity-50 z-50",children:e.jsx(f,{})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 my-6",children:"Add Book"}),e.jsxs("div",{className:"w-full max-w-md bg-white shadow-lg rounded-lg p-6 border border-gray-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-600 text-lg font-medium mb-2",htmlFor:"title",children:"Title"}),e.jsx("input",{id:"title",type:"text",value:s,onChange:t=>u(t.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter book title"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-600 text-lg font-medium mb-2",htmlFor:"author",children:"Author"}),e.jsx("input",{id:"author",type:"text",value:l,onChange:t=>c(t.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter author's name"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-600 text-lg font-medium mb-2",htmlFor:"publishYear",children:"Publish Year"}),e.jsx("input",{id:"publishYear",type:"number",value:r,onChange:t=>d(t.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter publish year"})]}),e.jsx("button",{onClick:b,className:"w-full bg-blue-500 text-white font-semibold py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 transition-all duration-300",disabled:i,children:"Save Book"})]})]})};export{k as default};
